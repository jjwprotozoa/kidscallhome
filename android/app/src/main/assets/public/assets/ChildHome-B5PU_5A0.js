import{u as n,r as i,j as s,U as o}from"./vendor-react-mDIoga_b.js";import{N as d}from"./Navigation-CglVk_ff.js";import{O as h,H as u}from"./OnboardingTour-BCKJLloU.js";import{u as x,t as p,C as t,B as c}from"./index-BdmHsoQZ.js";import"./vendor-radix-BQCqNqg0.js";import"./vendor-other-BA4qpukX.js";import"./deviceTracking-lBUE_lfK.js";import"./vendor-capacitor-DSxgEnoB.js";import"./vendor-supabase-DQP4RkUL.js";const C=()=>{const a=n();x();const[e,r]=i.useState(null);return i.useEffect(()=>{const l=localStorage.getItem("childSession");if(!l){a("/child/login");return}const m=JSON.parse(l);r(m)},[a]),p({userId:e?.id||"",userType:"child",name:e?.name,enabled:!!e}),e?s.jsxs("div",{className:"min-h-[100dvh] bg-background",children:[s.jsx(d,{}),s.jsx(h,{role:"child",pageKey:"child_home"}),s.jsx(u,{role:"child",pageKey:"child_home"}),s.jsx("div",{className:"p-4",style:{paddingTop:"calc(1rem + 64px + var(--safe-area-inset-top) * 0.15)"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8 mt-8",children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["Hi, ",e.name,"!"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Quick access to call your parent"})]}),s.jsx(t,{className:"p-6 min-h-[176px]",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Quick Actions"}),s.jsxs(c,{className:"w-full",size:"lg",onClick:()=>a("/child/parents"),"data-tour":"child-home-parents",children:[s.jsx(o,{className:"mr-2 h-5 w-5"}),"Select Parent"]}),s.jsx(c,{className:"w-full",size:"lg",variant:"outline",onClick:()=>a("/child/dashboard"),children:"Go to Dashboard"})]})})]})})]}):s.jsxs("div",{className:"min-h-[100dvh] bg-background",children:[s.jsx(d,{}),s.jsx("div",{className:"p-4",style:{paddingTop:"calc(1rem + 64px + var(--safe-area-inset-top) * 0.15)"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8 mt-8",children:[s.jsx("div",{className:"h-9 w-48 bg-muted rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-6 w-64 bg-muted rounded animate-pulse"})]}),s.jsx(t,{className:"p-6 min-h-[176px]",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-6 w-32 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-10 w-full bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-10 w-full bg-muted rounded animate-pulse"})]})})]})})]})};export{C as default};

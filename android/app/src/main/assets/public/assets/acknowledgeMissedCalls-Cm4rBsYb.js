import{s as a}from"./index-BdmHsoQZ.js";import"./vendor-react-mDIoga_b.js";import"./vendor-radix-BQCqNqg0.js";import"./vendor-other-BA4qpukX.js";import"./vendor-capacitor-DSxgEnoB.js";import"./vendor-supabase-DQP4RkUL.js";async function w(s,t){try{const{data:r,error:e}=await a.from("calls").select("id").eq("child_id",s).eq("caller_type",t).eq("missed_call",!0).is("missed_call_read_at",null);if(e)throw console.error("Error fetching missed calls:",e),e;if(!r||r.length===0)return;const l=r.map(c=>c.id),i=new Date().toISOString(),{error:o}=await a.from("calls").update({missed_call_read_at:i}).in("id",l);if(o)throw console.error("Error acknowledging missed calls:",o),o;console.log(`âœ… Acknowledged ${l.length} missed calls for child ${s}`)}catch(r){throw console.error("Error in acknowledgeMissedCalls:",r),r}}export{w as acknowledgeMissedCalls};

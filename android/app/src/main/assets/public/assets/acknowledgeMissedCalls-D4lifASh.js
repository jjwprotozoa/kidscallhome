import{s as a}from"./index-DwhoTBl9.js";async function n(l,t){try{const{data:r,error:e}=await a.from("calls").select("id").eq("child_id",l).eq("caller_type",t).eq("missed_call",!0).is("missed_call_read_at",null);if(e)throw console.error("Error fetching missed calls:",e),e;if(!r||r.length===0)return;const o=r.map(i=>i.id),c=new Date().toISOString(),{error:s}=await a.from("calls").update({missed_call_read_at:c}).in("id",o);if(s)throw console.error("Error acknowledging missed calls:",s),s;console.log(`âœ… Acknowledged ${o.length} missed calls for child ${l}`)}catch(r){throw console.error("Error in acknowledgeMissedCalls:",r),r}}export{n as acknowledgeMissedCalls};

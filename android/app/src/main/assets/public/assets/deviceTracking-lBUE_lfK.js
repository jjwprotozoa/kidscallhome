import{_ as s}from"./vendor-capacitor-DSxgEnoB.js";function u(){if(typeof window<"u"&&window.Capacitor||typeof window<"u"&&window.cordova||typeof window<"u"&&window.ReactNativeWebView)return!0;const e=navigator.userAgent.toLowerCase();return!!(e.includes("capacitor")||e.includes("cordova")||e.includes("ionic"))}async function a(){try{if(typeof window<"u"&&window.Capacitor?.Plugins?.MacAddress)try{const e=await window.Capacitor.Plugins.MacAddress.getMacAddress();if(e?.macAddress)return e.macAddress}catch{}if(typeof window<"u"&&window.Capacitor?.Plugins?.Network)try{const e=window.Capacitor.Plugins.Network;if(e.getMacAddress){const t=await e.getMacAddress();if(t)return t}}catch{}if(typeof window<"u"&&window.Capacitor?.Plugins?.DeviceInfo)try{const e=await window.Capacitor.Plugins.DeviceInfo.getMacAddress();if(e?.macAddress)return e.macAddress}catch{}if(typeof window<"u"&&window.device){const e=window.device;if(e.macAddress)return e.macAddress}typeof window<"u"&&window.ReactNativeWebView}catch(e){console.warn("Failed to get MAC address:",e)}return null}async function w(){try{if(typeof window<"u"&&window.Capacitor?.Plugins?.Device){const e=await window.Capacitor.Plugins.Device.getInfo();if(e?.id)return`native-${e.id}`}if(typeof window<"u"&&window.device){const e=window.device;if(e?.uuid)return`cordova-${e.uuid}`}typeof window<"u"&&window.ReactNativeWebView}catch(e){console.warn("Failed to get native device ID:",e)}return null}function g(){return c()}async function v(){return u()?await a():null}async function p(){const e=await a();if(e)return`mac-${e.replace(/:/g,"").toLowerCase()}`;const t=await w();return t||c()}function c(){const e=document.createElement("canvas");e.getContext("2d")?.fillText("DeviceID",2,2);const n=e.toDataURL(),i=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,screen.colorDepth||"unknown",new Date().getTimezoneOffset(),navigator.platform,navigator.vendor||"unknown",n.substring(0,50),navigator.hardwareConcurrency||"unknown",navigator.deviceMemory||"unknown",navigator.maxTouchPoints||"0",window.devicePixelRatio||"1",navigator.cookieEnabled?"1":"0",navigator.doNotTrack||"unknown"].join("|");let r=0;for(let o=0;o<i.length;o++){const d=i.charCodeAt(o);r=(r<<5)-r+d,r=r&r}return`web-${Math.abs(r).toString(36).substring(0,16)}`}function f(){const e=navigator.userAgent.toLowerCase();return/tablet|ipad|playbook|silk/i.test(e)?"tablet":/mobile|iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(e)?"mobile":/desktop|windows|macintosh|linux/i.test(e)?"desktop":"other"}function m(){const e=navigator.userAgent,t=f();if(e.includes("iPad")){const n=e.match(/iPad(\d+,\d+)/i);return n?`iPad ${n[1]}`:"iPad"}if(e.includes("iPhone")){const n=e.match(/iPhone(\d+,\d+)/i);return n?`iPhone ${n[1]}`:"iPhone"}if(e.includes("Android")){const n=e.match(/Android.*?; ([^)]+)\)/);if(n){const i=n[1].trim();return i.startsWith("SM-")?`Samsung ${i.substring(3)}`:i.startsWith("LM-")?`LG ${i.substring(3)}`:i}return"Android Device"}if(e.includes("Macintosh")){const n=e.match(/Mac OS X ([\d_]+)/i);return n?`Mac (macOS ${n[1].replace(/_/g,".")})`:"Mac"}return e.includes("Windows")?e.includes("Windows NT 10.0")?"Windows PC (Windows 10/11)":e.includes("Windows NT 6.3")?"Windows PC (Windows 8.1)":e.includes("Windows NT 6.2")?"Windows PC (Windows 8)":e.includes("Windows NT 6.1")?"Windows PC (Windows 7)":"Windows PC":e.includes("Linux")?"Linux PC":t.charAt(0).toUpperCase()+t.slice(1)}async function h(){try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||null}catch{return null}}async function y(e){if(!e)return null;try{const{getCountryFromIP:t}=await s(async()=>{const{getCountryFromIP:i}=await import("./ipGeolocation-Cm-ayuRY.js");return{getCountryFromIP:i}},[]);return(await t(e)).countryCode||null}catch{return null}}export{f as detectDeviceType,g as generateDeviceIdentifier,p as generateDeviceIdentifierAsync,h as getClientIP,y as getCountryFromIP,v as getDeviceMacAddress,m as getDeviceName};
